<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>WordPress on NoesBlog</title>
    <link>/tags/wordpress/</link>
    <description>Recent content in WordPress on NoesBlog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Mon, 12 Feb 2018 12:22:30 +0000</lastBuildDate><atom:link href="/tags/wordpress/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>WordPress优化加载速度调试实战</title>
      <link>/2018/02/2018-02-12-wordpress%E4%BC%98%E5%8C%96%E5%8A%A0%E8%BD%BD%E9%80%9F%E5%BA%A6%E8%B0%83%E8%AF%95%E5%AE%9E%E6%88%98/</link>
      <pubDate>Mon, 12 Feb 2018 12:22:30 +0000</pubDate>
      
      <guid>/2018/02/2018-02-12-wordpress%E4%BC%98%E5%8C%96%E5%8A%A0%E8%BD%BD%E9%80%9F%E5%BA%A6%E8%B0%83%E8%AF%95%E5%AE%9E%E6%88%98/</guid>
      <description>在没有调试之前，几乎所有的 js，css 文件都是从 cdn 上面加载的，请求数在 25 到 30 之间，有时候可能 cdn 加载问题会导致页面重新渲染，因此将小的 js，css 文件使用源站加载，用了 Autoptimize 合并了这些文件，目前请求数在 7 个左右，减少了页面发送请求的数量，也避免了某个文件没有加载完成导致的页面加载过慢的问题。
删除了评论部分的 emoji 图标，这些图标数量在 20 个左右，都是单独加载的，因此若有个别图标没有加载完成的话页面速度会慢一些，这里直接砍掉。
调整了一下页面的字体，删除了 font-aweasome 这个字体，因为这个字体大小在 75kb 左右，而且仅有返回顶部与菜单这部分引用了该字体，感觉没有必要，删除了这个字体的引用，以及将返回顶部的文字修改为文字类型。
php-fpm 方面，调整了性能参数，最大进程数设置为 30，初始进程数为 5，并且增加了定时任务，每两小时清理一次内存。
wordpress 方面，调整了 Autoptimize 插件的参数，具体参数这里就不截图了，根据自己站点的需求调整即可。删除了 W3 Total Cache，新增了 WP Super Cache 插件缓存所有页面，实测使用 W3 Total Cache 缓存页面，页面加载时间在 100-200ms，也就是那个 / 文件，如果使用 WP Super Cache 缓存页面的话，除了首次缓存的时候页面加载时间在 150ms 左右，其他的时间均在 30ms 内即可加载完成 html 页面，相比来说 WP Super Cache 速度提升比 W3 Total Cache 要好一些。
删除了一些页面的图片文件，其中首页上方背景图片之前是 90kb 左右，通常是在最后加载，时间大约为 300ms 才加载完，这里使用的是新浪的图床，初步预估可能是图片过大的原因，压缩图片质量到 30kb 左右，仍然需要 300ms 左右才可加载完成，这里就先砍掉这张图片了，有空的话再加。</description>
    </item>
    
    <item>
      <title>WordPress性能优化经验分享</title>
      <link>/2018/02/2018-02-04-wordpress%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/</link>
      <pubDate>Sat, 03 Feb 2018 18:33:13 +0000</pubDate>
      
      <guid>/2018/02/2018-02-04-wordpress%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/</guid>
      <description>最近从Hexo转回了WordPress，但是发现无论是网站的打开速度，还是后台随便打开一个设置，速度都是非常的慢，打开首页可能需要5-7秒，点击任意文章稍微就快一点，大概是3-5秒，但是有时候可能打开首页甚至需要一分多钟才能加载出来。
这样的速度完全不能接受啊，这样还能愉快的玩耍吗？
首先我们需要分析一下WordPress为什么会变得这么慢的原因，通常情况下，各类文章给出的建议都是禁用谷歌字体，这是一个不错的思路，但是我在禁用之后发现整个网站的速度仅有一点点的提升，整个网站的加载速度仍然不可接受。
工具使用    在如下的优化过程中，你可能需要如下的一些工具来完成优化过程。
 Chrome + FireFox 浏览器 的开发者工具，即F12查看网络加载详情
Xshell 用于连接服务器修改配置文件等，若你的网站使用虚拟主机，则无法使用该工具
Google搜索引擎 | 百度搜索引擎 用于查询下面的优化中具体的内容及配置方案
 插件说明    那么如何改善呢，首先我上一下目前这个博客所使用的一些插件。
 Accelerated Mobile Pages
Autoptimize
EWWW Image Optimizer
QQWorld加速中国版
wp super cache
 Accelerated Mobile Pages    首先从Accelerated Mobile Pages说起，这个插件是会将网站的移动端内容转换为支持amp的内容，加载速度提升非常大，因为在默认的情况下，我们的wordpress网站是使用自适应的主题，会加载一些不必要的css和js文件在移动端页面，使用了这个插件后，它会自动的检测你所使用的设备，如果是移动设备则跳转到amp页面，每个amp页面的大小约十几KB左右，相比自适应的页面大小优势很大。
Autoptimize    这个插件通常我建议在优化完整个站点后再使用，通常情况下我们的网站会加载一些小的js和css文件，这些文件会增加页面的请求数量，导致速度变慢，这个插件可以将小的js与css文件以及页面内的css与js内容压缩成一个或两个css文件或js文件，减少了用户的请求数量，提升网站的加载速度。
EWWW Image Optimizer    说到网站，几乎目前绝大多数的网站都会在文章中使用图片来提升网站的页面效果，或者是增加一些亮点，目前我们手机拍摄出来的照片都有几M大小，相比之下我们的服务器带宽可能仅有1-3M左右的带宽，这样的情况下，再去加载一个动辄几M大小的图片，甚至十几张这样的图片，整个网站的速度就会变得非常慢，体验也不好。因此这个插件可以在我们上传图片的时候，自动的压缩图片，通常可以将图片从几M压缩到几百KB甚至几十KB，这样整个网站的速度就提升很多了。
QQWorld加速中国版    这个插件可以替换网站内的google字体链接，由于某些原因我们无法正常访问谷歌的字体服务器，但是大多数Wordpress主题和wordpress本身引用了谷歌字体，因此每次点击网站的时候都会去请求谷歌服务器拿到字体文件，这样整个网站的速度就会很慢，因为需要等待字体的加载，使用这个插件可以将网站内包含谷歌字体的链接替换为国内的字体源。
wp super cache    这个插件可以缓存页面，通常情况下我们的页面不会有太多的变动，因此我们可以将其缓存起来，大多数用户访问的时候就不需要再让php执行脚本查询数据库再生成页面返回给用户了，因此这个插件几乎可以说是必装的，注意！个人不建议使用w3 total cache这个插件，实测该插件缓存页面后加载速度与wp supercache速度差距较大，因此建议直接使用wp super cache缓存页面即可。</description>
    </item>
    
  </channel>
</rss>
